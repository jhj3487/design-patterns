

# π“ νΌμ‚¬λ“ ν¨ν„΄(Facade Pattern)

> **νΌμ‚¬λ“ ν¨ν„΄(Facade Pattern)**
> π‘‰ λ³µμ΅ν• μ„λΈμ‹μ¤ν…μ„ ν•λ‚μ λ‹¨μν• μ§„μ…μ μΌλ΅ κ°μ‹Έ μ‚¬μ©ν•λ” κµ¬μ΅° ν¨ν„΄

## π“ κ°μ”

μ΄ λ¬Έμ„λ” **νΌμ‚¬λ“(Facade) ν¨ν„΄**μ„ μ •λ¦¬ν• λ¬Έμ„μ…λ‹λ‹¤.
νΌμ‚¬λ“ ν¨ν„΄μ κ°λ…, λ“±μ¥ λ°°κ²½, ν•΄κ²°ν•λ” λ¬Έμ , κµ¬μ΅°(UML), μ½”λ“ μμ ,
κ·Έλ¦¬κ³  μ‹¤λ¬΄μ—μ„ μ–Έμ  μ‚¬μ©ν•λ©΄ μΆ‹μ€μ§€κΉμ§€ μΆ…ν•©μ μΌλ΅ μ •λ¦¬ν•©λ‹λ‹¤.

## π“ ν•µμ‹¬ μ”μ•½

* νΌμ‚¬λ“ ν¨ν„΄μ€ **λ³µμ΅ν• μ„λΈμ‹μ¤ν…μ„ λ‹¨μν• μΈν„°νμ΄μ¤(μ§„μ…μ )λ΅ κ°μ‹Όλ‹¤**
* ν΄λΌμ΄μ–ΈνΈλ” μ„λΈμ‹μ¤ν…μ λ‚΄λ¶€ κµ¬μ΅°λ¥Ό λ°λΌλ„ λλ‹¤
* λ³€κ²½ μν–¥ λ²”μ„λ¥Ό νΌμ‚¬λ“ λ‚΄λ¶€λ΅ μ ν•ν•  μ μλ‹¤
* (μ‹¤λ¬΄ μΈμ‚¬μ΄νΈ) **νΌμ‚¬λ“λ” β€νΈμμ„± + κ²°ν•©λ„ κ°μ†β€λ¥Ό λ™μ‹μ— λ…Έλ¦°λ‹¤**

## 1οΈβƒ£ κ°λ… μ •λ¦¬

### β–  λ°°κ²½

λ€κ·λ¨ μ‹μ¤ν…μ—μ„λ” μ—¬λ¬ κ°μ²΄μ™€ μ„λΈμ‹μ¤ν…μ΄ μ„λ΅ λ³µμ΅ν•κ² μ–½ν€
ν΄λΌμ΄μ–ΈνΈ μ½”λ“κ°€ νΉμ • κµ¬ν„μ— κ°•ν•κ² μμ΅΄ν•κ² λλ” λ¬Έμ κ°€ λ°μƒν•©λ‹λ‹¤.

μ΄λ¬ν• μƒν™©μ—μ„λ”

* μ‚¬μ©λ²•μ΄ λ³µμ΅ν•΄μ§€κ³ 
* μμ • μ‹ μν–¥ λ²”μ„κ°€ λ„“μ–΄μ§€λ©°
* μ μ§€λ³΄μκ°€ μ–΄λ ¤μ›μ§‘λ‹λ‹¤.

μ΄λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄ **νΌμ‚¬λ“ ν¨ν„΄**μ΄ λ“±μ¥ν–μµλ‹λ‹¤.

### β–  λ¬Έμ  μƒν™©

νΌμ‚¬λ“ ν¨ν„΄μ„ μ μ©ν•μ§€ μ•μΌλ©΄ λ‹¤μκ³Ό κ°™μ€ λ¬Έμ κ°€ λ°μƒν•©λ‹λ‹¤.

* ν΄λΌμ΄μ–ΈνΈκ°€ μ—¬λ¬ μ„λΈμ‹μ¤ν… κ°μ²΄λ¥Ό μ§μ ‘ μ μ–΄ν•΄μ•Ό ν•¨
* νΈμ¶ μμ„μ™€ λ‚΄λ¶€ λ™μ‘μ„ ν΄λΌμ΄μ–ΈνΈκ°€ λ¨λ‘ μ•μ•„μ•Ό ν•¨
* μ„λΈμ‹μ¤ν… λ³€κ²½ μ‹ ν΄λΌμ΄μ–ΈνΈ μ½”λ“κΉμ§€ μμ • ν•„μ”
* μ½”λ“ κ°€λ…μ„±κ³Ό μ μ§€λ³΄μμ„± μ €ν•

### β–  μ™ ν•„μ”ν•κ°€?

νΌμ‚¬λ“ ν¨ν„΄μ€ λ‹¤μμ„ ν•΄κ²°ν•©λ‹λ‹¤.

* **λ³µμ΅ν• μ‚¬μ© μ μ°¨λ¥Ό λ‹¨μν™”**
* **ν΄λΌμ΄μ–ΈνΈμ™€ μ„λΈμ‹μ¤ν… κ°„ κ²°ν•©λ„ κ°μ†**
* **λ³€κ²½μ— κ°•ν• κµ¬μ΅° μ κ³µ**
* **κ³ μμ¤€ API μ κ³µμΌλ΅ μ‚¬μ©μ„± κ°μ„ **

### β–  κµ¬μ΅°/νλ¦„

1. ν΄λΌμ΄μ–ΈνΈλ” νΌμ‚¬λ“ κ°μ²΄λ§ μ‚¬μ©
2. νΌμ‚¬λ“λ” λ‚΄λ¶€μ μΌλ΅ μ—¬λ¬ μ„λΈμ‹μ¤ν… κ°μ²΄λ¥Ό κµ¬μ„±(Composition)
3. νΌμ‚¬λ“μ λ©”μ„λ“ ν•λ‚κ°€ μ—¬λ¬ μ„λΈμ‹μ¤ν… λ™μ‘μ„ μμ°¨μ μΌλ΅ μ‹¤ν–‰
4. μ„λΈμ‹μ¤ν… λ³€κ²½ μ‹ νΌμ‚¬λ“λ§ μμ •

### β–  κ΄€λ ¨ λ””μμΈ μ›μΉ™

* **μΊ΅μν™”(Encapsulation)**
  β†’ λ‚΄λ¶€ κµ¬μ΅°λ¥Ό μ¨κΈ°κ³  ν•„μ”ν• κΈ°λ¥λ§ λ…Έμ¶

* **DIP (μμ΅΄μ„± μ—­μ „ μ›μΉ™)**
  β†’ ν΄λΌμ΄μ–ΈνΈλ” κµ¬μ²΄ κµ¬ν„μ΄ μ•„λ‹ κ³ μμ¤€ μΈν„°νμ΄μ¤(νΌμ‚¬λ“)μ— μμ΅΄

* **LoD (μµμ† μ§€μ‹μ μ›μΉ™)**
  β†’ ν΄λΌμ΄μ–ΈνΈλ” ν•„μ”ν• κ°μ²΄μ™€λ§ μƒνΈμ‘μ©


### β–  κ°„λ‹¨ μμ‹

ν™μ‹μ–΄ν„° μ‹μ¤ν…μ΄ μλ‹¤κ³  κ°€μ •:

* TV μ „μ› μΌκΈ°
* ν™”λ©΄ λ¨λ“ μ„¤μ •
* μ‚¬μ΄λ“ μ‹μ¤ν… μΌκΈ°
* λ³Όλ¥¨ μ„¤μ •
* μ¤νΈλ¦¬λ° μ‹μ‘

μ΄ λ¨λ“  κ³Όμ •μ„ ν΄λΌμ΄μ–ΈνΈκ°€ μ§μ ‘ νΈμ¶ν•μ§€ μ•κ³ ,

```java
facade.watchMovie();
```

ν• μ¤„λ΅ μ²λ¦¬ν•  μ μλ„λ΅ λ§λ“λ” κ²ƒμ΄ νΌμ‚¬λ“ ν¨ν„΄μ΄λ‹¤.

## 2οΈβƒ£ μμ  μ½”λ“

### β” UML λ‹¤μ΄μ–΄κ·Έλ¨ (κµ¬μ΅° μ”μ•½)

```mermaid
classDiagram
    class HomeTheaterFacade {
        +watchMovie()
        +endMovie()
    }

    class TV {
        +on()
        +off()
    }

    class SoundSystem {
        +on()
        +setVolume()
        +off()
    }

    class StreamingPlayer {
        +play()
        +stop()
    }

    HomeTheaterFacade --> TV
    HomeTheaterFacade --> SoundSystem
    HomeTheaterFacade --> StreamingPlayer
```

### β” κµ¬ν„ μμ  1 (μ„λΈμ‹μ¤ν…)

```java
public class TV {
    public void on() {
        System.out.println("TV μ „μ› ON");
    }

    public void off() {
        System.out.println("TV μ „μ› OFF");
    }
}
```

```java
public class SoundSystem {
    public void on() {
        System.out.println("μ‚¬μ΄λ“ μ‹μ¤ν… ON");
    }

    public void setVolume(int level) {
        System.out.println("λ³Όλ¥¨ μ„¤μ •: " + level);
    }

    public void off() {
        System.out.println("μ‚¬μ΄λ“ μ‹μ¤ν… OFF");
    }
}
```

```java
public class StreamingPlayer {
    public void play() {
        System.out.println("μν™” μ¤νΈλ¦¬λ° μ‹μ‘");
    }

    public void stop() {
        System.out.println("μν™” μ¤νΈλ¦¬λ° μΆ…λ£");
    }
}
```

### β” κµ¬ν„ μμ  2 (νΌμ‚¬λ“)

```java
public class HomeTheaterFacade {

    private TV tv;
    private SoundSystem soundSystem;
    private StreamingPlayer player;

    public HomeTheaterFacade(TV tv, SoundSystem soundSystem, StreamingPlayer player) {
        this.tv = tv;
        this.soundSystem = soundSystem;
        this.player = player;
    }

    public void watchMovie() {
        tv.on();
        soundSystem.on();
        soundSystem.setVolume(10);
        player.play();
    }

    public void endMovie() {
        player.stop();
        soundSystem.off();
        tv.off();
    }
}
```

## 3οΈβƒ£ μ‹¤λ¬΄ ν¬μΈνΈ

### β” μ–Έμ  μ‚¬μ©ν•λ©΄ μΆ‹μ€κ°€?

* μ—¬λ¬ μ„λΈμ‹μ¤ν…μ„ **μ •ν•΄μ§„ μμ„λ΅ ν•¨κ» μ‚¬μ©ν•΄μ•Ό ν•  λ•**
* ν΄λΌμ΄μ–ΈνΈκ°€ λ‚΄λ¶€ κµ¬ν„μ„ μ• ν•„μ”κ°€ μ—†μ„ λ•
* API μ‚¬μ©μ„±μ„ λ‹¨μν™”ν•κ³  μ‹¶μ„ λ•

### β” ν•΄κ²°ν•λ” λ¬Έμ 

* λ³µμ΅ν• κ°μ²΄ ν‘λ ¥ κµ¬μ΅° μ€λ‹‰
* ν΄λΌμ΄μ–ΈνΈ μ½”λ“μ κ²°ν•©λ„ κ°μ†
* λ³€κ²½ μν–¥ λ²”μ„ μµμ†ν™”

### β” μλ» μ μ©ν•λ©΄ μƒκΈΈ λ¬Έμ 

* νΌμ‚¬λ“κ°€ λ„λ¬΄ λΉ„λ€ν•΄μ§ μ μμ
* λ¨λ“  μ±…μ„μ΄ νΌμ‚¬λ“μ— λ°λ¦΄ μ„ν—
* λ‹¨μ μ„μ„ κ°μ²΄λ΅ μ „λ½ κ°€λ¥

### β” μ‹¤λ¬΄μ—μ„ μμ£Ό λ°μƒν•λ” μ΄μ

* νΌμ‚¬λ“κ°€ God Objectκ°€ λμ§€ μ•λ„λ΅ μ£Όμ
* μ—¬λ¬ νΌμ‚¬λ“λ¥Ό μ©λ„λ³„λ΅ λ¶„λ¦¬ν•λ” μ „λµ ν•„μ”

### β” ν”„λ μ„μ›ν¬μ—μ„μ ν™μ© (μ„ νƒ)

* **Spring**
  β†’ Service κ³„μΈµμ΄ νΌμ‚¬λ“ μ—­ν• μ„ μν–‰ν•λ” κ²½μ°κ°€ λ§μ
* **Spring Boot**
  β†’ Controller β†’ Service κµ¬μ΅° μμ²΄κ°€ νΌμ‚¬λ“ κ°λ…μ„ λ‚΄ν¬

## β οΈ μ• μΌμ„ λ• λ¬Έμ 

* ν΄λΌμ΄μ–ΈνΈκ°€ μ„λΈμ‹μ¤ν… λ‚΄λ¶€ κµ¬μ΅°μ— κ°•ν•κ² μμ΅΄
* μμ • μ‹ μ—¬λ¬ ν΄λμ¤μ— μν–¥
* ν…μ¤νΈ λ° μ μ§€λ³΄μ λ‚μ΄λ„ μ¦κ°€

## π’¬ λ©΄μ ‘μ—μ„ μ΄λ ‡κ² λ§ν•λ‹¤

> β€νΌμ‚¬λ“ ν¨ν„΄μ€ λ³µμ΅ν• μ„λΈμ‹μ¤ν…μ„ ν•λ‚μ κ³ μμ¤€ μ§„μ…μ μΌλ΅ κ°μ‹Έ
> ν΄λΌμ΄μ–ΈνΈ μ‚¬μ©μ„±μ„ λ‹¨μν™”ν•κ³  κ²°ν•©λ„λ¥Ό λ‚®μ¶”κΈ° μ„ν• ν¨ν„΄μ…λ‹λ‹¤.
> λ‚΄λ¶€ κµ¬ν„μ΄ λ³€κ²½λλ”λΌλ„ ν΄λΌμ΄μ–ΈνΈμ—λ” μν–¥μ„ μ£Όμ§€ μ•λ” κµ¬μ΅°λ¥Ό λ§λ“­λ‹λ‹¤.β€

## 4οΈβƒ£ μ •λ¦¬

νΌμ‚¬λ“ ν¨ν„΄μ€ λ³µμ΅ν• μ‹μ¤ν…μ„ λ‹¨μν•κ² μ‚¬μ©ν•λ” **κµ¬μ΅° ν¨ν„΄**μΌλ΅,
ν΄λΌμ΄μ–ΈνΈμ™€ μ„λΈμ‹μ¤ν… κ°„μ κ²°ν•©λ„λ¥Ό λ‚®μ¶”κ³  λ³€κ²½μ— κ°•ν• κµ¬μ΅°λ¥Ό μ κ³µν•©λ‹λ‹¤.
μ‹¤λ¬΄μ—μ„λ” μ„λΉ„μ¤ κ³„μΈµμ΄λ‚ API μ„¤κ³„μ—μ„ μμ—°μ¤λ½κ² ν™μ©λλ©°,
κ³Όλ„ν•κ² λΉ„λ€ν•΄μ§€μ§€ μ•λ„λ΅ μ±…μ„ λ²”μ„λ¥Ό λ…ν™•ν ν•λ” κ²ƒμ΄ μ¤‘μ”ν•©λ‹λ‹¤.
